#+TITLE: sumdiag_print / sumdiag_benchmark Valgrind Checks
#+TESTY: ECHOING="both"
#+TESTY: PROMPT="@>"
#+TESTY: USE_VALGRIND='1'
#+TESTY: PREFIX='prob1'

* Prob1 sumdiag_print 4 1
Checks if sumdiag_print 4 produces correct results.

#+TESTY: program="./sumdiag_print 4 1"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
4 x 4 matrix
   0:    0    1    2    3 
   1:    4    5    6    7 
   2:    8    9   10   11 
   3:   12   13   14   15 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:   12   12 
[ 1]:   21   21 
[ 2]:   27   27 
[ 3]:   30   30 
[ 4]:   18   18 
[ 5]:    9    9 
[ 6]:    3    3 
#+END_SRC

* Prob1 sumdiag_print 5 1
Checks if sumdiag_print 5 produces correct results.

#+TESTY: program="./sumdiag_print 5 1"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
5 x 5 matrix
   0:    0    1    2    3    4 
   1:    5    6    7    8    9 
   2:   10   11   12   13   14 
   3:   15   16   17   18   19 
   4:   20   21   22   23   24 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:   20   20 
[ 1]:   36   36 
[ 2]:   48   48 
[ 3]:   56   56 
[ 4]:   60   60 
[ 5]:   40   40 
[ 6]:   24   24 
[ 7]:   12   12 
[ 8]:    4    4 
#+END_SRC

* Prob1 sumdiag_print 7 1
Checks if sumdiag_print 7 produces correct results.

#+TESTY: program="./sumdiag_print 7 1"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
7 x 7 matrix
   0:    0    1    2    3    4    5    6 
   1:    7    8    9   10   11   12   13 
   2:   14   15   16   17   18   19   20 
   3:   21   22   23   24   25   26   27 
   4:   28   29   30   31   32   33   34 
   5:   35   36   37   38   39   40   41 
   6:   42   43   44   45   46   47   48 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:   42   42 
[ 1]:   78   78 
[ 2]:  108  108 
[ 3]:  132  132 
[ 4]:  150  150 
[ 5]:  162  162 
[ 6]:  168  168 
[ 7]:  126  126 
[ 8]:   90   90 
[ 9]:   60   60 
[10]:   36   36 
[11]:   18   18 
[12]:    6    6 
#+END_SRC

* Prob1 sumdiag_print 13 1
Checks if sumdiag_print 13 produces correct results.

#+TESTY: program="./sumdiag_print 13 1"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
13 x 13 matrix
   0:    0    1    2    3    4    5    6    7    8    9   10   11   12 
   1:   13   14   15   16   17   18   19   20   21   22   23   24   25 
   2:   26   27   28   29   30   31   32   33   34   35   36   37   38 
   3:   39   40   41   42   43   44   45   46   47   48   49   50   51 
   4:   52   53   54   55   56   57   58   59   60   61   62   63   64 
   5:   65   66   67   68   69   70   71   72   73   74   75   76   77 
   6:   78   79   80   81   82   83   84   85   86   87   88   89   90 
   7:   91   92   93   94   95   96   97   98   99  100  101  102  103 
   8:  104  105  106  107  108  109  110  111  112  113  114  115  116 
   9:  117  118  119  120  121  122  123  124  125  126  127  128  129 
  10:  130  131  132  133  134  135  136  137  138  139  140  141  142 
  11:  143  144  145  146  147  148  149  150  151  152  153  154  155 
  12:  156  157  158  159  160  161  162  163  164  165  166  167  168 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:  156  156 
[ 1]:  300  300 
[ 2]:  432  432 
[ 3]:  552  552 
[ 4]:  660  660 
[ 5]:  756  756 
[ 6]:  840  840 
[ 7]:  912  912 
[ 8]:  972  972 
[ 9]: 1020 1020 
[10]: 1056 1056 
[11]: 1080 1080 
[12]: 1092 1092 
[13]:  936  936 
[14]:  792  792 
[15]:  660  660 
[16]:  540  540 
[17]:  432  432 
[18]:  336  336 
[19]:  252  252 
[20]:  180  180 
[21]:  120  120 
[22]:   72   72 
[23]:   36   36 
[24]:   12   12 
#+END_SRC

* Prob1 sumdiag_print 13 2
Checks if sumdiag_print 13 produces correct results. This tests runs
with 2 threads.

#+TESTY: program="./sumdiag_print 13 2"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
13 x 13 matrix
   0:    0    1    2    3    4    5    6    7    8    9   10   11   12 
   1:   13   14   15   16   17   18   19   20   21   22   23   24   25 
   2:   26   27   28   29   30   31   32   33   34   35   36   37   38 
   3:   39   40   41   42   43   44   45   46   47   48   49   50   51 
   4:   52   53   54   55   56   57   58   59   60   61   62   63   64 
   5:   65   66   67   68   69   70   71   72   73   74   75   76   77 
   6:   78   79   80   81   82   83   84   85   86   87   88   89   90 
   7:   91   92   93   94   95   96   97   98   99  100  101  102  103 
   8:  104  105  106  107  108  109  110  111  112  113  114  115  116 
   9:  117  118  119  120  121  122  123  124  125  126  127  128  129 
  10:  130  131  132  133  134  135  136  137  138  139  140  141  142 
  11:  143  144  145  146  147  148  149  150  151  152  153  154  155 
  12:  156  157  158  159  160  161  162  163  164  165  166  167  168 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:  156  156 
[ 1]:  300  300 
[ 2]:  432  432 
[ 3]:  552  552 
[ 4]:  660  660 
[ 5]:  756  756 
[ 6]:  840  840 
[ 7]:  912  912 
[ 8]:  972  972 
[ 9]: 1020 1020 
[10]: 1056 1056 
[11]: 1080 1080 
[12]: 1092 1092 
[13]:  936  936 
[14]:  792  792 
[15]:  660  660 
[16]:  540  540 
[17]:  432  432 
[18]:  336  336 
[19]:  252  252 
[20]:  180  180 
[21]:  120  120 
[22]:   72   72 
[23]:   36   36 
[24]:   12   12 
#+END_SRC

* Prob1 sumdiag_print 13 3
Checks if sumdiag_print 13 produces correct results. This tests runs
with 3 threads.

#+TESTY: program="./sumdiag_print 13 3"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
13 x 13 matrix
   0:    0    1    2    3    4    5    6    7    8    9   10   11   12 
   1:   13   14   15   16   17   18   19   20   21   22   23   24   25 
   2:   26   27   28   29   30   31   32   33   34   35   36   37   38 
   3:   39   40   41   42   43   44   45   46   47   48   49   50   51 
   4:   52   53   54   55   56   57   58   59   60   61   62   63   64 
   5:   65   66   67   68   69   70   71   72   73   74   75   76   77 
   6:   78   79   80   81   82   83   84   85   86   87   88   89   90 
   7:   91   92   93   94   95   96   97   98   99  100  101  102  103 
   8:  104  105  106  107  108  109  110  111  112  113  114  115  116 
   9:  117  118  119  120  121  122  123  124  125  126  127  128  129 
  10:  130  131  132  133  134  135  136  137  138  139  140  141  142 
  11:  143  144  145  146  147  148  149  150  151  152  153  154  155 
  12:  156  157  158  159  160  161  162  163  164  165  166  167  168 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:  156  156 
[ 1]:  300  300 
[ 2]:  432  432 
[ 3]:  552  552 
[ 4]:  660  660 
[ 5]:  756  756 
[ 6]:  840  840 
[ 7]:  912  912 
[ 8]:  972  972 
[ 9]: 1020 1020 
[10]: 1056 1056 
[11]: 1080 1080 
[12]: 1092 1092 
[13]:  936  936 
[14]:  792  792 
[15]:  660  660 
[16]:  540  540 
[17]:  432  432 
[18]:  336  336 
[19]:  252  252 
[20]:  180  180 
[21]:  120  120 
[22]:   72   72 
[23]:   36   36 
[24]:   12   12 
#+END_SRC

* Prob1 sumdiag_print 13 4
Checks if sumdiag_print 13 produces correct results. This tests runs
with 4 threads.

#+TESTY: program="./sumdiag_print 13 4"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
13 x 13 matrix
   0:    0    1    2    3    4    5    6    7    8    9   10   11   12 
   1:   13   14   15   16   17   18   19   20   21   22   23   24   25 
   2:   26   27   28   29   30   31   32   33   34   35   36   37   38 
   3:   39   40   41   42   43   44   45   46   47   48   49   50   51 
   4:   52   53   54   55   56   57   58   59   60   61   62   63   64 
   5:   65   66   67   68   69   70   71   72   73   74   75   76   77 
   6:   78   79   80   81   82   83   84   85   86   87   88   89   90 
   7:   91   92   93   94   95   96   97   98   99  100  101  102  103 
   8:  104  105  106  107  108  109  110  111  112  113  114  115  116 
   9:  117  118  119  120  121  122  123  124  125  126  127  128  129 
  10:  130  131  132  133  134  135  136  137  138  139  140  141  142 
  11:  143  144  145  146  147  148  149  150  151  152  153  154  155 
  12:  156  157  158  159  160  161  162  163  164  165  166  167  168 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:  156  156 
[ 1]:  300  300 
[ 2]:  432  432 
[ 3]:  552  552 
[ 4]:  660  660 
[ 5]:  756  756 
[ 6]:  840  840 
[ 7]:  912  912 
[ 8]:  972  972 
[ 9]: 1020 1020 
[10]: 1056 1056 
[11]: 1080 1080 
[12]: 1092 1092 
[13]:  936  936 
[14]:  792  792 
[15]:  660  660 
[16]:  540  540 
[17]:  432  432 
[18]:  336  336 
[19]:  252  252 
[20]:  180  180 
[21]:  120  120 
[22]:   72   72 
[23]:   36   36 
[24]:   12   12 
#+END_SRC

* Prob1 sumdiag_print 16 1
Checks if sumdiag_print 16 produces correct results. This tests runs
with 1 threads.

#+TESTY: program="./sumdiag_print 16 1"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
16 x 16 matrix
   0:      0      1      2      3      4      5      6      7      8      9     10     11     12     13     14     15 
   1:     16     17     18     19     20     21     22     23     24     25     26     27     28     29     30     31 
   2:     32     33     34     35     36     37     38     39     40     41     42     43     44     45     46     47 
   3:     48     49     50     51     52     53     54     55     56     57     58     59     60     61     62     63 
   4:     64     65     66     67     68     69     70     71     72     73     74     75     76     77     78     79 
   5:     80     81     82     83     84     85     86     87     88     89     90     91     92     93     94     95 
   6:     96     97     98     99    100    101    102    103    104    105    106    107    108    109    110    111 
   7:    112    113    114    115    116    117    118    119    120    121    122    123    124    125    126    127 
   8:    128    129    130    131    132    133    134    135    136    137    138    139    140    141    142    143 
   9:    144    145    146    147    148    149    150    151    152    153    154    155    156    157    158    159 
  10:    160    161    162    163    164    165    166    167    168    169    170    171    172    173    174    175 
  11:    176    177    178    179    180    181    182    183    184    185    186    187    188    189    190    191 
  12:    192    193    194    195    196    197    198    199    200    201    202    203    204    205    206    207 
  13:    208    209    210    211    212    213    214    215    216    217    218    219    220    221    222    223 
  14:    224    225    226    227    228    229    230    231    232    233    234    235    236    237    238    239 
  15:    240    241    242    243    244    245    246    247    248    249    250    251    252    253    254    255 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:  240  240 
[ 1]:  465  465 
[ 2]:  675  675 
[ 3]:  870  870 
[ 4]: 1050 1050 
[ 5]: 1215 1215 
[ 6]: 1365 1365 
[ 7]: 1500 1500 
[ 8]: 1620 1620 
[ 9]: 1725 1725 
[10]: 1815 1815 
[11]: 1890 1890 
[12]: 1950 1950 
[13]: 1995 1995 
[14]: 2025 2025 
[15]: 2040 2040 
[16]: 1800 1800 
[17]: 1575 1575 
[18]: 1365 1365 
[19]: 1170 1170 
[20]:  990  990 
[21]:  825  825 
[22]:  675  675 
[23]:  540  540 
[24]:  420  420 
[25]:  315  315 
[26]:  225  225 
[27]:  150  150 
[28]:   90   90 
[29]:   45   45 
[30]:   15   15 
#+END_SRC

* Prob1 sumdiag_print 16 3
Checks if sumdiag_print 16 produces correct results. This tests runs
with 3 threads.

#+TESTY: program="./sumdiag_print 16 3"
#+BEGIN_SRC text
==== Matrix Diagonal Sum Print ====
Matrix:
16 x 16 matrix
   0:      0      1      2      3      4      5      6      7      8      9     10     11     12     13     14     15 
   1:     16     17     18     19     20     21     22     23     24     25     26     27     28     29     30     31 
   2:     32     33     34     35     36     37     38     39     40     41     42     43     44     45     46     47 
   3:     48     49     50     51     52     53     54     55     56     57     58     59     60     61     62     63 
   4:     64     65     66     67     68     69     70     71     72     73     74     75     76     77     78     79 
   5:     80     81     82     83     84     85     86     87     88     89     90     91     92     93     94     95 
   6:     96     97     98     99    100    101    102    103    104    105    106    107    108    109    110    111 
   7:    112    113    114    115    116    117    118    119    120    121    122    123    124    125    126    127 
   8:    128    129    130    131    132    133    134    135    136    137    138    139    140    141    142    143 
   9:    144    145    146    147    148    149    150    151    152    153    154    155    156    157    158    159 
  10:    160    161    162    163    164    165    166    167    168    169    170    171    172    173    174    175 
  11:    176    177    178    179    180    181    182    183    184    185    186    187    188    189    190    191 
  12:    192    193    194    195    196    197    198    199    200    201    202    203    204    205    206    207 
  13:    208    209    210    211    212    213    214    215    216    217    218    219    220    221    222    223 
  14:    224    225    226    227    228    229    230    231    232    233    234    235    236    237    238    239 
  15:    240    241    242    243    244    245    246    247    248    249    250    251    252    253    254    255 

Diagnonal Sums:
[ i]: BASE OPTM
[ 0]:  240  240 
[ 1]:  465  465 
[ 2]:  675  675 
[ 3]:  870  870 
[ 4]: 1050 1050 
[ 5]: 1215 1215 
[ 6]: 1365 1365 
[ 7]: 1500 1500 
[ 8]: 1620 1620 
[ 9]: 1725 1725 
[10]: 1815 1815 
[11]: 1890 1890 
[12]: 1950 1950 
[13]: 1995 1995 
[14]: 2025 2025 
[15]: 2040 2040 
[16]: 1800 1800 
[17]: 1575 1575 
[18]: 1365 1365 
[19]: 1170 1170 
[20]:  990  990 
[21]:  825  825 
[22]:  675  675 
[23]:  540  540 
[24]:  420  420 
[25]:  315  315 
[26]:  225  225 
[27]:  150  150 
[28]:   90   90 
[29]:   45   45 
[30]:   15   15 
#+END_SRC

* Prob1 sumdiag_benchmark valgrind
Checks whether sumdiag_benchmark has memory problems
#+TESTY: program="./sumdiag_benchmark -test"
#+TESTY: skipdiff=1

#+BEGIN_SRC text
#+END_SRC

Then checks to ensure that sumdiag doesn't have any errors in it.
#+TESTY: bash_options_for_test
#+BEGIN_SRC text
>> outfile=test-results/testout.txt
>> ./sumdiag_benchmark -test > $outfile
>> if grep -q ERROR $outfile; then cat $outfile; fi
#+END_SRC
